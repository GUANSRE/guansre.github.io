<!DOCTYPE html>
<html lang='en-US'>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<script>
	let gantiBg = true, noBg1 = false;
	function bg(){
		if (gantiBg && !noBg1) {
			document.getElementById('body1').style.backgroundImage = "url('https://i0.wp.com/winpoin.com/wp-content/uploads/2015/08/wallpapermotivasi_10.jpeg')";
			document.getElementById('body1').style.color = 'red';
			gantiBg = false;
		} else if (!gantiBg && !noBg1) {
			document.getElementById('body1').style.backgroundImage = "url('https://png.pngtree.com/background/20210709/original/pngtree-red-stereo-border-love-valentines-day-background-picture-image_905497.jpg')";
			document.getElementById('body1').style.color = 'black';
			gantiBg = true;
		}
	}
	function noBG(){
			document.getElementById('body1').style.backgroundImage = "none";
			document.getElementById('body1').style.color = 'black';
			noBg1 = true;
			document.getElementById('hapus').style.display = 'none';
	}
	async function quotes(){
		let jenisQuote = document.getElementById('jenis').value;
		let banyakQuote = (jenisQuote == 'q_love.txt') ? 999 : 283;
		
		fetch(`https://ruang-irgi.github.io/${jenisQuote}`).then(response => response.text()).then(data => {
			let lines = data.split('\n');
			let x = Math.floor(Math.random() * banyakQuote);
			document.getElementById('quote').innerHTML = lines[x];
		}).catch(error => {alert('Ado error')});
		setTimeout(tlTeks, 1000);
	}
	async function tlTeks(){
		const teks = document.getElementById('quote').innerHTML;
		const bahasa = 'id';
		const response = await fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(teks)}&langpair=en|${bahasa}`);
		const data = await response.json();
		
		if (data && data.responseData && data.responseData.translatedText){
			document.getElementById('translatedText').innerText = data.responseData.translatedText;
		} else {
			document.getElementById('translatedText').innerText = 'Gagal';
		}
	}
</script>
<style>
body {
	background-image: url('https://png.pngtree.com/background/20210709/original/pngtree-red-stereo-border-love-valentines-day-background-picture-image_905497.jpg');
	background-size: cover;
	background-position: 55% 20%;
	background-attachment: fixed;
}
#quote, #translatedText {
	text-align: center;
	width: 55%;
	font-family: monospace;
	font-size: 20px;
}
</style>
</head>
<body id='body1'>
	<h1><center>Quotes</center></h1>
	<div>Pilih jenis:
		<select id='jenis' onchange='bg()'>
			<option value='q_love.txt'>Cinta</option>
			<option value='q_motiv.txt'>Motivasi</option>
		</select>
		<button id='hapus' onclick='noBG()'>Hapus background</button>
	</div><br>
	<button style="font-size: 20px; height: 30px; width: 100px" onclick='quotes()'>Gas</button>
	<span style='padding-left: 20px'>(Proses penerjemahan &plusmn 1 detik)</span>
	<div><br><br>
		<center>
			<h3 id='quote'></h3><br><br>
			<h3 id='translatedText'></h3>
		</center>
	</div>
</body>
</html>
